## 1 项目概述

### 1.1 项目背景

开发一个奶茶消费记录与统计系统，帮助用户追踪每日奶茶消费情况，提供消费统计和品牌偏好分析。

### 1.2 项目目标

- 记录每日奶茶消费详细信息
- 提供日历视图直观展示消费频率
- 生成消费统计和品牌分析报告
- 支持预算管理功能，在日历页面显示这个月剩余的奶茶额度

## 2 功能需求

### 2.1 核心功能模块

#### 2.1.1 奶茶记录模块

- 添加记录：品牌、品类、甜度、冰度、价格、评分(0-10)、评语(可选)
- 编辑记录：修改已存在的奶茶记录
- 删除记录：移除不需要的记录
- 查看详情：查看单条记录的完整信息

#### 2.1.2 日历视图模块

- 月视图：以日历形式展示当月每天是否喝奶茶
- 图标标识：使用奶茶图标标记有消费的日期
- 点击查看：点击日期可查看当天消费详情

#### 2.1.3 统计报表模块

- 基础统计：近期杯数、天数、累计消费金额
- 品牌统计：各品牌消费数量和金额统计
- 趋势分析：消费频率和金额趋势图表

#### 2.1.4 注册登录、个人面板模块

## 3 技术架构

### 3.1 前端技术栈

- React：主框架
- Vue：部分组件(如统计图表)
- UI库：Ant Design / Element UI
- 状态管理：Redux / Vuex
- 路由：React Router
- HTTP客户端：Axios

### 3.2 后端技术栈

- Spring Boot：主框架
- 数据库：H2
- ORM：MyBatis / JPA
- API文档：Swagger
- 构建工具：Maven
- JWT

## 4 数据库设计

### 4.1 数据表结构

#### 4.1.1 奶茶记录表(milk_tea_records)

| 字段名       | 类型          | 描述       |
| ------------ | ------------- | ---------- |
| id           | BIGINT        | 主键       |
| brand        | VARCHAR(50)   | 品牌       |
| category     | VARCHAR(50)   | 品类       |
| sweetness    | VARCHAR(20)   | 甜度       |
| ice_level    | VARCHAR(20)   | 冰度       |
| price        | DECIMAL(10,2) | 价格       |
| score        | TINYINT       | 评分(0-10) |
| comment      | TEXT          | 评语       |
| record_date  | DATE          | 记录日期   |
| created_time | DATETIME      | 创建时间   |
| updated_time | DATETIME      | 更新时间   |

#### 4.1.2 品牌信息表(brands)

| 字段名      | 类型        | 描述     |
| ----------- | ----------- | -------- |
| id          | BIGINT      | 主键     |
| name        | VARCHAR(50) | 品牌名称 |
| description | TEXT        | 品牌描述 |

## 5 API接口设计

### 5.1 记录管理接口

- `GET /api/records` - 获取记录列表
- `POST /api/records` - 创建新记录
- `PUT /api/records/{id}` - 更新记录
- `DELETE /api/records/{id}` - 删除记录
- `GET /api/records/{id}` - 获取记录详情

### 5.2 日历数据接口

- `GET /api/calendar/{year}/{month}` - 获取月消费数据

### 5.3 统计接口

- `GET /api/statistics/summary` - 获取基础统计
- `GET /api/statistics/brands` - 获取品牌统计

## 6 页面设计

### 6.1 记录页面

- 表单输入区域
- 记录列表展示
- 搜索和筛选功能

### 6.2 日历页面

- 月历视图
- 奶茶图标标记
- 日期点击交互

### 6.3 统计页面

- 数据卡片展示基础统计
- 品牌统计表格
- 消费趋势图表

### 6.4 注册登录页面、个人面板